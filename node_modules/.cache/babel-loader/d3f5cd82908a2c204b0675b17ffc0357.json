{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ubuntu/TeaCherS-client/src/Layout/Home/Home.jsx\";\nimport React, { Component } from \"react\";\nimport \"./Home.css\";\nimport axios from \"axios\";\nimport { PropagateLoader } from 'react-spinners'; // Components\n\nimport Teacher from \"../../components/Teacher/Teacher\";\nimport SearchTeachers from \"../../components/SearchTeacher/SearchTeachers\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      allteachers: null,\n      error: \"\"\n    };\n\n    this.removeTeacher = async id => {\n      try {\n        const teacherRemoved = await axios.delete(`/api/teachers/${id}`);\n        const teachers = await axios(\"/api/teachers/\");\n        this.setState({\n          data: teachers.data\n        });\n      } catch (err) {\n        this.setState({\n          error: err.message\n        });\n      }\n    };\n\n    this.searchTeachers = async username => {\n      let allteachers = [...this.state.data.teachers];\n      if (this.state.allteachers === null) this.setState({\n        allteachers\n      });\n      let teachers = this.state.data.teachers.filter(({\n        name\n      }) => name.toLowerCase().includes(username.toLowerCase()));\n      if (teachers.length > 0) this.setState({\n        data: {\n          teachers\n        }\n      });\n      if (username.trim() === \"\") this.setState({\n        data: {\n          teachers: this.state.allteachers\n        }\n      });\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const teachers = await axios(\"/api/teachers/\");\n      this.setState({\n        data: teachers.data\n      });\n    } catch (err) {\n      this.setState({\n        error: err.message\n      });\n    }\n  }\n\n  render() {\n    let teachers;\n    if (this.state.data) teachers = this.state.data.teachers && this.state.data.teachers.map(teacher => /*#__PURE__*/_jsxDEV(Teacher, { ...teacher,\n      removeTeacher: this.removeTeacher\n    }, teacher._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this));else return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Spinner-Wrapper\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(PropagateLoader, {\n        color: '#333'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 51\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this);\n    if (this.state.error) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: this.state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 34\n    }, this);\n    if (this.state.data !== null) if (!this.state.data.teachers.length) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"No-teachers\",\n      children: \"No Teacher yet!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table-Wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"TeaCherS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(SearchTeachers, {\n        searchTeachers: this.searchTeachers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"Table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Enrollment Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: teachers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/ubuntu/TeaCherS-client/src/Layout/Home/Home.jsx"],"names":["React","Component","axios","PropagateLoader","Teacher","SearchTeachers","Home","state","data","allteachers","error","removeTeacher","id","teacherRemoved","delete","teachers","setState","err","message","searchTeachers","username","filter","name","toLowerCase","includes","length","trim","componentDidMount","render","map","teacher","_id"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,gBAAhC,C,CACA;;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,cAAP,MAA2B,+CAA3B;;AAEA,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAC3BM,KAD2B,GACnB;AACNC,MAAAA,IAAI,EAAE,IADA;AAENC,MAAAA,WAAW,EAAE,IAFP;AAGNC,MAAAA,KAAK,EAAE;AAHD,KADmB;;AAAA,SAgB3BC,aAhB2B,GAgBX,MAAMC,EAAN,IAAY;AAC1B,UAAI;AACF,cAAMC,cAAc,GAAG,MAAMX,KAAK,CAACY,MAAN,CAAc,iBAAgBF,EAAG,EAAjC,CAA7B;AACA,cAAMG,QAAQ,GAAG,MAAMb,KAAK,CAAC,gBAAD,CAA5B;AACA,aAAKc,QAAL,CAAc;AAAER,UAAAA,IAAI,EAAEO,QAAQ,CAACP;AAAjB,SAAd;AACD,OAJD,CAIE,OAAOS,GAAP,EAAY;AACZ,aAAKD,QAAL,CAAc;AAAEN,UAAAA,KAAK,EAAEO,GAAG,CAACC;AAAb,SAAd;AACD;AACF,KAxB0B;;AAAA,SA0B3BC,cA1B2B,GA0BV,MAAMC,QAAN,IAAkB;AACjC,UAAIX,WAAW,GAAG,CAAC,GAAG,KAAKF,KAAL,CAAWC,IAAX,CAAgBO,QAApB,CAAlB;AACA,UAAI,KAAKR,KAAL,CAAWE,WAAX,KAA2B,IAA/B,EAAqC,KAAKO,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd;AAErC,UAAIM,QAAQ,GAAG,KAAKR,KAAL,CAAWC,IAAX,CAAgBO,QAAhB,CAAyBM,MAAzB,CAAgC,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAC7CA,IAAI,CAACC,WAAL,GAAmBC,QAAnB,CAA4BJ,QAAQ,CAACG,WAAT,EAA5B,CADa,CAAf;AAGA,UAAIR,QAAQ,CAACU,MAAT,GAAkB,CAAtB,EAAyB,KAAKT,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAE;AAAEO,UAAAA;AAAF;AAAR,OAAd;AAEzB,UAAIK,QAAQ,CAACM,IAAT,OAAoB,EAAxB,EACE,KAAKV,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAE;AAAEO,UAAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWE;AAAvB;AAAR,OAAd;AACH,KArC0B;AAAA;;AAO3B,QAAMkB,iBAAN,GAA0B;AACxB,QAAI;AACF,YAAMZ,QAAQ,GAAG,MAAMb,KAAK,CAAC,gBAAD,CAA5B;AACA,WAAKc,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAEO,QAAQ,CAACP;AAAjB,OAAd;AACD,KAHD,CAGE,OAAOS,GAAP,EAAY;AACZ,WAAKD,QAAL,CAAc;AAAEN,QAAAA,KAAK,EAAEO,GAAG,CAACC;AAAb,OAAd;AACD;AACF;;AAyBDU,EAAAA,MAAM,GAAG;AACP,QAAIb,QAAJ;AAEA,QAAI,KAAKR,KAAL,CAAWC,IAAf,EACEO,QAAQ,GACN,KAAKR,KAAL,CAAWC,IAAX,CAAgBO,QAAhB,IACA,KAAKR,KAAL,CAAWC,IAAX,CAAgBO,QAAhB,CAAyBc,GAAzB,CAA6BC,OAAO,iBACzC,QAAC,OAAD,OAA+BA,OAA/B;AAAwC,MAAA,aAAa,EAAE,KAAKnB;AAA5D,OAAcmB,OAAO,CAACC,GAAtB;AAAA;AAAA;AAAA;AAAA,YADK,CAFF,CADF,KAMK,oBAAO;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,mCAAkC,QAAC,eAAD;AAAiB,QAAA,KAAK,EAAE;AAAxB;AAAA;AAAA;AAAA;AAAA,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAEL,QAAI,KAAKxB,KAAL,CAAWG,KAAf,EAAsB,oBAAO;AAAA,gBAAK,KAAKH,KAAL,CAAWG;AAAhB;AAAA;AAAA;AAAA;AAAA,YAAP;AACtB,QAAI,KAAKH,KAAL,CAAWC,IAAX,KAAoB,IAAxB,EACE,IAAI,CAAC,KAAKD,KAAL,CAAWC,IAAX,CAAgBO,QAAhB,CAAyBU,MAA9B,EACE,oBAAO;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAEJ,wBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEE,QAAC,cAAD;AAAgB,QAAA,cAAc,EAAE,KAAKN;AAArC;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA,gCACE;AAAA,iCACE;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAA,oBAAQJ;AAAR;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAiBD;;AAxE0B;;AA2E7B,eAAeT,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Home.css\";\nimport axios from \"axios\";\nimport { PropagateLoader } from 'react-spinners';\n// Components\nimport Teacher from \"../../components/Teacher/Teacher\";\nimport SearchTeachers from \"../../components/SearchTeacher/SearchTeachers\";\n\nclass Home extends Component {\n  state = {\n    data: null,\n    allteachers: null,\n    error: \"\"\n  };\n\n  async componentDidMount() {\n    try {\n      const teachers = await axios(\"/api/teachers/\");\n      this.setState({ data: teachers.data });\n    } catch (err) {\n      this.setState({ error: err.message });\n    }\n  }\n\n  removeTeacher = async id => {\n    try {\n      const teacherRemoved = await axios.delete(`/api/teachers/${id}`);\n      const teachers = await axios(\"/api/teachers/\");\n      this.setState({ data: teachers.data });\n    } catch (err) {\n      this.setState({ error: err.message });\n    }\n  };\n\n  searchTeachers = async username => {\n    let allteachers = [...this.state.data.teachers];\n    if (this.state.allteachers === null) this.setState({ allteachers });\n\n    let teachers = this.state.data.teachers.filter(({ name }) =>\n      name.toLowerCase().includes(username.toLowerCase())\n    );\n    if (teachers.length > 0) this.setState({ data: { teachers } });\n\n    if (username.trim() === \"\")\n      this.setState({ data: { teachers: this.state.allteachers } });\n  };\n\n  render() {\n    let teachers;\n\n    if (this.state.data)\n      teachers =\n        this.state.data.teachers &&\n        this.state.data.teachers.map(teacher => (\n\t\t\t<Teacher key={teacher._id} {...teacher} removeTeacher={this.removeTeacher} />\n        ));\n    else return <div className=\"Spinner-Wrapper\"> <PropagateLoader color={'#333'} /> </div>;\n\n    if (this.state.error) return <h1>{this.state.error}</h1>;\n    if (this.state.data !== null)\n      if (!this.state.data.teachers.length)\n        return <h1 className=\"No-teachers\">No Teacher yet!</h1>;\n\n    return (\n      <div className=\"Table-Wrapper\">\n      <h1>TeaCherS</h1>\n        <SearchTeachers searchTeachers={this.searchTeachers} />\n        <table className=\"Table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Enrollment Number</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>{teachers}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}